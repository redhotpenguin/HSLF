2012/06/08 21:17:59 [trace] [system.CModule] Loading "log" application component
in C:\xampp\htdocs\HSLF\html\api.php (21)
2012/06/08 21:17:59 [trace] [system.CModule] Loading "request" application component
in C:\xampp\htdocs\HSLF\html\api.php (21)
2012/06/08 21:17:59 [trace] [system.CModule] Loading "urlManager" application component
in C:\xampp\htdocs\HSLF\html\api.php (21)
2012/06/08 21:17:59 [trace] [system.CModule] Loading "db" application component
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\DistrictManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (19)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.CDbConnection] Opening DB connection
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\DistrictManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (19)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT "id"
FROM "district"
WHERE state_abbr=:state_abbr  AND state_abbr=:state_abbr AND type=:district_type0 AND number=:district0 OR state_abbr=:state_abbr AND type=:district_type1 AND number=:district1 OR state_abbr=:state_abbr AND type=:district_type2 AND number=:district2
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\DistrictManager.php (75)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (19)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef
FROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
WHERE a.attnum > 0 AND NOT a.attisdropped
	AND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
		AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))
ORDER BY a.attnum
in C:\xampp\htdocs\HSLF\html\protected\shared\models\dal\BallotItem.php (39)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT conname, consrc, contype, indkey FROM (
	SELECT
		conname,
		CASE WHEN contype='f' THEN
			pg_catalog.pg_get_constraintdef(oid)
		ELSE
			'CHECK (' || consrc || ')'
		END AS consrc,
		contype,
		conrelid AS relid,
		NULL AS indkey
	FROM
		pg_catalog.pg_constraint
	WHERE
		contype IN ('f', 'c')
	UNION ALL
	SELECT
		pc.relname,
		NULL,
		CASE WHEN indisprimary THEN
				'p'
		ELSE
				'u'
		END,
		pi.indrelid,
		indkey
	FROM
		pg_catalog.pg_class pc,
		pg_catalog.pg_index pi
	WHERE
		pc.oid=pi.indexrelid
		AND EXISTS (
			SELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c
			ON (d.refclassid = c.tableoid AND d.refobjid = c.oid)
			WHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')
	)
) AS sub
WHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
	AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace
	WHERE nspname=:schema))
in C:\xampp\htdocs\HSLF\html\protected\shared\models\dal\BallotItem.php (39)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE
	attrelid=(
		SELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(
			SELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema
		)
	)
    AND attnum IN (1)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\dal\BallotItem.php (39)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [trace] [system.db.ar.CActiveRecord] BallotItem.findAllByAttributes()
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef
FROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
WHERE a.attnum > 0 AND NOT a.attisdropped
	AND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
		AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))
ORDER BY a.attnum
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT conname, consrc, contype, indkey FROM (
	SELECT
		conname,
		CASE WHEN contype='f' THEN
			pg_catalog.pg_get_constraintdef(oid)
		ELSE
			'CHECK (' || consrc || ')'
		END AS consrc,
		contype,
		conrelid AS relid,
		NULL AS indkey
	FROM
		pg_catalog.pg_constraint
	WHERE
		contype IN ('f', 'c')
	UNION ALL
	SELECT
		pc.relname,
		NULL,
		CASE WHEN indisprimary THEN
				'p'
		ELSE
				'u'
		END,
		pi.indrelid,
		indkey
	FROM
		pg_catalog.pg_class pc,
		pg_catalog.pg_index pi
	WHERE
		pc.oid=pi.indexrelid
		AND EXISTS (
			SELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c
			ON (d.refclassid = c.tableoid AND d.refobjid = c.oid)
			WHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')
	)
) AS sub
WHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
	AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace
	WHERE nspname=:schema))
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE
	attrelid=(
		SELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(
			SELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema
		)
	)
    AND attnum IN (1)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT a.attname, LOWER(format_type(a.atttypid, a.atttypmod)) AS type, d.adsrc, a.attnotnull, a.atthasdef
FROM pg_attribute a LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
WHERE a.attnum > 0 AND NOT a.attisdropped
	AND a.attrelid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
		AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = :schema))
ORDER BY a.attnum
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT conname, consrc, contype, indkey FROM (
	SELECT
		conname,
		CASE WHEN contype='f' THEN
			pg_catalog.pg_get_constraintdef(oid)
		ELSE
			'CHECK (' || consrc || ')'
		END AS consrc,
		contype,
		conrelid AS relid,
		NULL AS indkey
	FROM
		pg_catalog.pg_constraint
	WHERE
		contype IN ('f', 'c')
	UNION ALL
	SELECT
		pc.relname,
		NULL,
		CASE WHEN indisprimary THEN
				'p'
		ELSE
				'u'
		END,
		pi.indrelid,
		indkey
	FROM
		pg_catalog.pg_class pc,
		pg_catalog.pg_index pi
	WHERE
		pc.oid=pi.indexrelid
		AND EXISTS (
			SELECT 1 FROM pg_catalog.pg_depend d JOIN pg_catalog.pg_constraint c
			ON (d.refclassid = c.tableoid AND d.refobjid = c.oid)
			WHERE d.classid = pc.tableoid AND d.objid = pc.oid AND d.deptype = 'i' AND c.contype IN ('u', 'p')
	)
) AS sub
WHERE relid = (SELECT oid FROM pg_catalog.pg_class WHERE relname=:table
	AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace
	WHERE nspname=:schema))
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT attnum, attname FROM pg_catalog.pg_attribute WHERE
	attrelid=(
		SELECT oid FROM pg_catalog.pg_class WHERE relname=:table AND relnamespace=(
			SELECT oid FROM pg_catalog.pg_namespace WHERE nspname=:schema
		)
	)
    AND attnum IN (1)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.db.CDbCommand] Querying SQL: SELECT "t"."id" AS "t0_c0", "t"."district_id" AS "t0_c1", "t"."item" AS "t0_c2", "t"."item_type" AS "t0_c3", "t"."recommendation_id" AS "t0_c4", "t"."next_election_date" AS "t0_c5", "t"."priority" AS "t0_c6", "t"."detail" AS "t0_c7", "t"."date_published" AS "t0_c8", "t"."published" AS "t0_c9", "t"."party" AS "t0_c10", "t"."image_url" AS "t0_c11", "t"."election_result_id" AS "t0_c12", "t"."url" AS "t0_c13", "district"."id" AS "t1_c0", "district"."state_abbr" AS "t1_c1", "district"."number" AS "t1_c2", "district"."type" AS "t1_c3", "district"."name" AS "t1_c4", "recommendation"."id" AS "t2_c0", "recommendation"."value" AS "t2_c1", "recommendation"."type" AS "t2_c2", "electionResult"."id" AS "t3_c0", "electionResult"."value" AS "t3_c1", "electionResult"."type" AS "t3_c2" FROM "ballot_item" "t"  LEFT OUTER JOIN "district" "district" ON ("t"."district_id"="district"."id")  LEFT OUTER JOIN "recommendation" "recommendation" ON ("t"."recommendation_id"="recommendation"."id")  LEFT OUTER JOIN "recommendation" "electionResult" ON ("t"."election_result_id"="electionResult"."id")  WHERE ("t"."district_id" IN (7436, 7498, 7499) AND (date_published>=:year_start AND date_published <=:year_end)) ORDER BY priority ASC
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (34)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (70)
2012/06/08 21:17:59 [trace] [system.CModule] Loading "coreMessages" application component
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (47)
in C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php (36)
in C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php (99)
2012/06/08 21:17:59 [error] [exception.CException] exception 'CException' with message 'Property "BallotItem.published_date" is not defined.' in C:\xampp\htdocs\HSLF\framework\base\CComponent.php:131
Stack trace:
#0 C:\xampp\htdocs\HSLF\framework\db\ar\CActiveRecord.php(144): CComponent->__get('published_date')
#1 C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php(47): CActiveRecord->__get('published_date')
#2 C:\xampp\htdocs\HSLF\html\protected\shared\models\bll\BallotItemManager.php(36): BallotItemManager::applyFilter(Array)
#3 C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php(99): BallotItemManager->findAllByDistricts('or', Array, Array, '2013')
#4 C:\xampp\htdocs\HSLF\html\protected\api\controllers\ApiController.php(70): ApiController->_getBallotItems(Array)
#5 C:\xampp\htdocs\HSLF\framework\web\actions\CInlineAction.php(50): ApiController->actionView()
#6 C:\xampp\htdocs\HSLF\framework\web\CController.php(309): CInlineAction->runWithParams(Array)
#7 C:\xampp\htdocs\HSLF\framework\web\CController.php(287): CController->runAction(Object(CInlineAction))
#8 C:\xampp\htdocs\HSLF\framework\web\CController.php(266): CController->runActionWithFilters(Object(CInlineAction), Array)
#9 C:\xampp\htdocs\HSLF\framework\web\CWebApplication.php(276): CController->run('view')
#10 C:\xampp\htdocs\HSLF\framework\web\CWebApplication.php(135): CWebApplication->runController('api/view')
#11 C:\xampp\htdocs\HSLF\framework\base\CApplication.php(162): CWebApplication->processRequest()
#12 C:\xampp\htdocs\HSLF\html\api.php(21): CApplication->run()
#13 {main}
REQUEST_URI=/api/ballot_items/2013/state/or/?districts=city/portland,city/lake%20oswego,congressional/5
---
2012/06/08 21:17:59 [trace] [system.CModule] Loading "errorHandler" application component
